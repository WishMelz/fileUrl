(function(e){function t(t){for(var a,o,l=t[0],c=t[1],i=t[2],p=0,d=[];p<l.length;p++)o=l[p],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,i||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,l=1;l<r.length;l++){var c=r[l];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"56d7":function(e,t,r){"use strict";r.r(t);r("e623"),r("e379"),r("5dc8"),r("37e1");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},s=[],o=(r("034f"),r("2877")),l={},c=Object(o["a"])(l,n,s,!1,null,null,null),i=c.exports,u=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"upload"},[r("el-row",{staticStyle:{"text-align":"center"}},[r("el-col",[r("el-upload",{staticClass:"upload-demo",staticStyle:{width:"100%"},attrs:{drag:"",multiple:"",action:"/","before-upload":e.befUpload}},[r("i",{staticClass:"el-icon-upload"}),r("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),r("em",[e._v("点击上传")])]),r("div",{staticClass:"el-upload__text"},[r("b",[e._v("支持 ctrl + v 上传")])])])],1)],1),r("el-divider"),r("div",{staticStyle:{"text-align":"center","padding-bottom":"20px","font-size":"14px"}},[e._v(" 仅支持视频和图片,以及5M的大小限制 ")]),r("el-row",{staticStyle:{padding:"0 30px",display:"grid","place-items":"center"}},[r("el-col",{staticClass:"resimg",attrs:{span:10}},[r("el-input",{model:{value:e.resUrl.url,callback:function(t){e.$set(e.resUrl,"url",t)},expression:"resUrl.url"}},[r("template",{slot:"prepend"},[e._v("tFileUrl")]),r("template",{slot:"append"},[r("el-button",{staticClass:"copy",on:{click:function(t){return e.copy(e.resUrl.url)}}},[e._v("复制")])],1)],2)],1),r("el-col",{staticClass:"resimg",attrs:{span:10}},[r("el-input",{model:{value:e.resUrl.md,callback:function(t){e.$set(e.resUrl,"md",t)},expression:"resUrl.md"}},[r("template",{slot:"prepend"},[e._v("Markdown")]),r("template",{slot:"append"},[r("el-button",{staticClass:"copy",on:{click:function(t){return e.copy(e.resUrl.md)}}},[e._v("复制")])],1)],2)],1),r("el-col",{staticStyle:{"text-align":"center",padding:"20px"},attrs:{span:10}},["image"==e.resUrl.type?r("img",{staticClass:"pic",attrs:{src:e.resUrl.url,alt:""}}):e._e(),"video"==e.resUrl.type?r("video",{staticStyle:{"max-width":"100%"},attrs:{controls:"",src:e.resUrl.url}}):e._e()])],1)],1)},d=[],f=(r("c975"),r("ac1f"),r("1276"),r("99af"),r("d3b7"),r("bc3a")),m=r.n(f),g=r("5c96"),v=r.n(g);function b(e){var t=new Error(e);throw h(t),t}function h(e){Object(g["Message"])({message:e,type:"error",duration:5e3})}var y=m.a.create({baseURL:"https://i.wishs.me"});y.interceptors.response.use((function(e){var t=e.data,r=t.code;if(void 0===r)return t;switch(r){case 200:return t.data;case 400:b("[ code: 400 - 系统异常 ] ".concat(t.msg,": ").concat(e.config.url));break;default:b("".concat(t.content,": ").concat(e.config.url));break}}),(function(e){if(e&&e.response)switch(e.response.status){case 400:e.message="请求错误";break;case 401:e.message="未授权，请登录";break;case 403:e.message="拒绝访问";break;case 404:e.message="请求地址出错: ".concat(e.response.config.url);break;case 408:e.message="请求超时";break;case 500:e.message="服务器内部错误";break;case 501:e.message="服务未实现";break;case 502:e.message="网关错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网关超时";break;case 505:e.message="HTTP版本不受支持";break;default:break}return h(e),Promise.reject(e)}));var k=y;function w(e){return k({url:"/upload",method:"post",data:e})}var _={data:function(){return{resUrl:{url:"",type:"",md:""},fullscreenLoading:!1}},mounted:function(){var e=this;document.addEventListener("paste",(function(t){if(t.clipboardData||t.originalEvent){var r=t.clipboardData||t.originalEvent.clipboardData;if(r.items){var a=r.items,n=a.length,s=null;!0;for(var o=0;o<n;o++)-1!==a[o].type.indexOf("image")&&(s=a[o].getAsFile());if(null!==s){if(e.fullscreenLoading)return;e.befUpload(s)}}}}))},methods:{befUpload:function(e){var t=e.type.split("/")[0];"image"==t||"video"==t?(this.resUrl.type=t,this.uploadFile(e)):this.$message.error("仅支持上传图片和视频!")},uploadFile:function(e){var t=this,r=new FormData;r.append("file",e),this.fullscreenLoading=!0,w(r).then((function(e){t.fullscreenLoading=!1,e.error?t.$message.error(e.error):(t.resUrl.url="https://telegra.ph".concat(e[0].src),t.resUrl.md="![wishtfile](https://telegra.ph".concat(e[0].src,")"),t.$message.success("上传成功"))})).catch((function(e){console.log(e),t.fullscreenLoading=!1}))},copy:function(e){if(""!=e&&e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),this.$message({message:"复制成功",type:"success"}),t.remove()}}}},x=_,U=(r("8261"),Object(o["a"])(x,p,d,!1,null,"2b8c66b1",null)),O=U.exports;a["default"].use(u["a"]);var j=[{path:"/",name:"Home",component:O}],C=new u["a"]({base:"",routes:j}),S=C,L=r("2f62"),P=r("0e44");a["default"].use(L["a"]);var $=new L["a"].Store({state:{token:"",userInfo:{},uploadInfo:{iscant:!1,repos:"",content:"",delimit:"",branch:""}},mutations:{setToken:function(e,t){e.token=t},setUserInfo:function(e,t){e.userInfo=t},setUploadInfo:function(e,t){e.uploadInfo=t}},actions:{},modules:{},plugins:[Object(P["a"])()]});r("0fae");a["default"].use(v.a),a["default"].config.productionTip=!1,new a["default"]({router:S,store:$,render:function(e){return e(i)}}).$mount("#app")},8261:function(e,t,r){"use strict";r("a091")},"85ec":function(e,t,r){},a091:function(e,t,r){}});
//# sourceMappingURL=app.cc7f1c1c.js.map